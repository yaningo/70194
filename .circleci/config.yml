version: 2.1

parameters:
      saywhat:
        description: "To whom shall we say hello?"
        default: "World"
        type: string

jobs:
  lint:
    docker:
      - image: circleci/node
    steps:
      - run:
          command: |
                   echo Hello
    
  premier:
    docker:
      - image: circleci/node
    steps:
      - run:
          command: |
                   echo jobnum1
                   
      - add_ssh_keys:
          fingerprints:
            - "7b:21:30:27:40:92:6d:e9:ed:29:c7:2d:a1:d0:6f:35"
                   
  deuxieme:
    docker:
      - image: circleci/node
    steps:
      - run:
          command: |
                   echo jobnum2
                   echo << pipeline.parameters.saywhat >>
 
  troisieme:
    docker:
      - image: circleci/node
    steps:
      - run:
          command: |
                   echo jobnum3
                                     
workflows:
  version: 2
  
  daily:
    jobs:
      - lint:
          filters:
            branches:
              only: /.*/
            tags:
              only: /.*/
      - premier:
          # <<: *after-linter
          filters:
            branches:
              only: /.*/
            tags:
              only: /.*/
     

  sync:
    jobs:
      - deuxieme
      
  thirdly:
    triggers:
      - schedule:
          cron: "55 14 * * *"
          filters:
              branches:
                only:
                  - cheekycheck
    jobs:
      - troisieme
